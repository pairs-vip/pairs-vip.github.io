{"title":"Kibana基本操作语法","date":"2025-08-26T08:32:00.000Z","date_formatted":{"ll":"Aug 26, 2025","L":"08/26/2025","MM-DD":"08-26"},"author":"zmu","link":"2025/08/26/Kibana基本操作语法","tags":["elasticsearch","kibana"],"categories":["ops"],"updated":"2025-08-26T08:32:00.000Z","content":"<h1 id=\"kibana基本操作语法\">Kibana基本操作语法<a title=\"#kibana基本操作语法\" href=\"#kibana基本操作语法\"></a></h1>\n<h2 id=\"1.kibana相关了解\">1.Kibana相关了解<a title=\"#1.kibana相关了解\" href=\"#1.kibana相关了解\"></a></h2>\n<p><em><strong>kibana是es的查询工具，kibana默认端口是5601</strong></em><br>\n<em><strong>访问地址一般为：<a href=\"http://ip:5601/kibana\" target=\"_blank\">http://ip:5601/kibana</a></strong></em></p>\n<p>访问后登录账号密码为elasticsearch的账号密码</p>\n<p>大多数时候使用的是kibana的 Dev Tools工具，具体位置位于  <strong>kibana首页左上角更多 》 Management 》 Dev Tools</strong>，一般在Dev Tools执行关于索引以及文档的操作。</p>\n<h2 id=\"2.restful风格\">2.Restful风格<a title=\"#2.restful风格\" href=\"#2.restful风格\"></a></h2>\n<p>基本Rest命令说明：</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th>method</th>\n<th>url地址</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>PUT</td>\n<td>localhost:9200/索引名称</td>\n<td>创建索引</td>\n</tr>\n<tr>\n<td>PUT</td>\n<td>localhost:9200/索引名称/类型名称/文档id</td>\n<td>创建文档（指定文档id）</td>\n</tr>\n<tr>\n<td>POST</td>\n<td>localhost:9200/索引名称/类型名称</td>\n<td>创建文档（随机文档id）</td>\n</tr>\n<tr>\n<td>PUT</td>\n<td>localhost:9200/索引名称/类型名称/文档id {“name”: “John” }</td>\n<td>创建文档（指定文档id和内容）</td>\n</tr>\n<tr>\n<td>POST</td>\n<td>localhost:9200/索引名称/类型名称/文档id/_update</td>\n<td>修改文档</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td>localhost:9200/索引名称/类型名称/文档id</td>\n<td>删除文档</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>localhost:9200/索引名称/类型名称/文档id</td>\n<td>查询文档通过文档id</td>\n</tr>\n<tr>\n<td><strong>POST</strong></td>\n<td>localhost:9200/索引名称/类型名称**/_search**</td>\n<td>查询所有数据</td>\n</tr>\n<tr>\n<td><strong>GET</strong></td>\n<td>localhost:9200/索引名称**/_search**?q=identifier:CS</td>\n<td>条件查询文档（查询所有索引下的满足identifier为CS的文档）索引名称非必须</td>\n</tr>\n</tbody>\n</table></div></div><p>注意：<strong>对于 <code>_search</code> 端点，GET 和 POST 请求在功能上是完全一样的，可以互换使用。</strong> 这是 Elasticsearch RESTful API 一个比较特殊但非常实用的设计。</p>\n<p><strong>如果是使用Query DSL的复杂查询，一般使用POST加Body的方式查询，例如：</strong></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url<span class=\"punctuation\">:</span> POST  localhost<span class=\"punctuation\">:</span><span class=\"number\">9200</span>/&lt;index_name&gt;/_search</span><br><span class=\"line\">&lt;index_name&gt;<span class=\"punctuation\">:</span> 你要查询的索引名称。支持通配符和多个索引;查询单个索引：my_index;查询多个索引：index1<span class=\"punctuation\">,</span>index2</span><br><span class=\"line\">查询所有索引：_all 或直接用 _search</span><br><span class=\"line\">_search<span class=\"punctuation\">:</span> Elasticsearch 固定的搜索端点，表示我们要执行搜索操作。</span><br><span class=\"line\">body<span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  \t\t<span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    \t\t<span class=\"attr\">&quot;match&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      \t\t\t<span class=\"attr\">&quot;description&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;red apple&quot;</span> <span class=\"comment\">// 在 &quot;description&quot; 字段中搜索 &quot;red&quot; 或 &quot;apple&quot;</span></span><br><span class=\"line\">    \t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  \t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"3.关于索引的基本操作\">3.关于索引的基本操作<a title=\"#3.关于索引的基本操作\" href=\"#3.关于索引的基本操作\"></a></h2>\n<p><strong>注意：在kibana中执行操作索引以及文档的操作都是通过在Dev Toos控制台输入指令，然后选中点击右边的绿三角执行来实现的；执行结果位于右边板块中。</strong></p>\n<h3 id=\"3.1创建\">3.1创建<a title=\"#3.1创建\" href=\"#3.1创建\"></a></h3>\n<h4 id=\"(1)-创建索引\"><strong>(1) 创建索引</strong><a title=\"#(1)-创建索引\" href=\"#(1)-创建索引\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PUT /test1</span><br></pre></td></tr></table></figure>\n<h4 id=\"(2)-创建索引规则\"><strong>(2) 创建索引规则</strong><a title=\"#(2)-创建索引规则\" href=\"#(2)-创建索引规则\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PUT /test2</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;mappings&quot;</span><span class=\"punctuation\">:</span>\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;properties&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">            <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">                <span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;test&quot;</span></span><br><span class=\"line\">            <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">            <span class=\"attr\">&quot;age&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">                <span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;long&quot;</span></span><br><span class=\"line\">            <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">            <span class=\"attr\">&quot;sex&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      \t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;text&quot;</span></span><br><span class=\"line\">      \t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">        <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"(3)-创建文档自动创建不存在的索引\"><strong>(3) 创建文档自动创建不存在的索引</strong><a title=\"#(3)-创建文档自动创建不存在的索引\" href=\"#(3)-创建文档自动创建不存在的索引\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POST /test3/_doc/zxf</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;hello&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;year&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;2022&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;month&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">1</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;date&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">23</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p><em><strong>第一种方式创建索引，没有设置索引的字段；第二种则是提前设置好了索引的字段；第三种则是通过创建文档动态创建索引以及索引字段，如果多次创建的文档字段不一样，索引则会通过扩展的方式创建字段，以确保包含所有文档的所有字段。</strong></em></p>\n<h3 id=\"3.2get获取信息\">3.2GET获取信息<a title=\"#3.2get获取信息\" href=\"#3.2get获取信息\"></a></h3>\n<h4 id=\"(1)-获取索引信息\"><strong>(1) 获取索引信息</strong><a title=\"#(1)-获取索引信息\" href=\"#(1)-获取索引信息\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1</span><br></pre></td></tr></table></figure>\n<p>在返回结果中可以看到test1索引的相关信息，包括字段等。</p>\n<h4 id=\"(2)-获取文档信息\"><strong>(2) 获取文档信息</strong><a title=\"#(2)-获取文档信息\" href=\"#(2)-获取文档信息\"></a></h4>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /test3/_doc/zxf</span><br></pre></td></tr></table></figure>\n<p>在返回结果中可以看到zxf文档的相关信息，包括字段的值等。</p>\n<h4 id=\"(3)-其他常用查询指令\"><strong>(3) 其他常用查询指令</strong><a title=\"#(3)-其他常用查询指令\" href=\"#(3)-其他常用查询指令\"></a></h4>\n<p>查询集群健康值：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET _cat/health</span><br></pre></td></tr></table></figure>\n<p>查询es包含的所有索引信息：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET _cat/indices?v</span><br></pre></td></tr></table></figure>\n<h3 id=\"3.3使用post命令更新文档\">3.3使用POST命令更新文档<a title=\"#3.3使用post命令更新文档\" href=\"#3.3使用post命令更新文档\"></a></h3>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POST test3/_doc/zxf/_update</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;doc&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;修改后的name&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>其中_update和doc都是固定的关键字：</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th>关键字</th>\n<th>说明</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>_update</td>\n<td>端点部分</td>\n<td><code>_update</code> 是 Elasticsearch 的<strong>固定端点</strong>，表示这是一个部分更新操作。</td>\n</tr>\n<tr>\n<td>doc</td>\n<td>请求体部分</td>\n<td>在请求体内的 <code>&quot;doc&quot;: &#123;...&#125;</code> 也是一个<strong>固定结构</strong>，表示你要更新的字段和值。</td>\n</tr>\n</tbody>\n</table></div></div><h3 id=\"3.4删除\">3.4删除<a title=\"#3.4删除\" href=\"#3.4删除\"></a></h3>\n<h4 id=\"(1)-删除索引\"><strong>(1) 删除索引</strong><a title=\"#(1)-删除索引\" href=\"#(1)-删除索引\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DELETE test2</span><br></pre></td></tr></table></figure>\n<h4 id=\"(2)-删除索引中的某个文档\"><strong>(2) 删除索引中的某个文档</strong><a title=\"#(2)-删除索引中的某个文档\" href=\"#(2)-删除索引中的某个文档\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DELETE test3/_doc/zxf</span><br></pre></td></tr></table></figure>\n<h2 id=\"4.关于文档的基本操作\">4.关于文档的基本操作<a title=\"#4.关于文档的基本操作\" href=\"#4.关于文档的基本操作\"></a></h2>\n<h3 id=\"4.1put/post创建文档\">4.1PUT/POST创建文档<a title=\"#4.1put/post创建文档\" href=\"#4.1put/post创建文档\"></a></h3>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PUT test1/_doc/zxf</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;zxf&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;year&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">2022</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;month&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">1</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;date&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">25</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">PUT test1/_doc/wanna_sleep</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;wanna sleep&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;year&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">2022</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;month&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">1</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;date&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">25</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"4.2get获取文档\">4.2GET获取文档<a title=\"#4.2get获取文档\" href=\"#4.2get获取文档\"></a></h3>\n<h4 id=\"(1)-获取指定文档\"><strong>(1) 获取指定文档</strong><a title=\"#(1)-获取指定文档\" href=\"#(1)-获取指定文档\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1/_doc/wanna_sleep</span><br></pre></td></tr></table></figure>\n<h4 id=\"(2)-获取所有文档\"><strong>(2) 获取所有文档</strong><a title=\"#(2)-获取所有文档\" href=\"#(2)-获取所有文档\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET _search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;match_all&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"4.3post更新文档\">4.3POST更新文档<a title=\"#4.3post更新文档\" href=\"#4.3post更新文档\"></a></h3>\n<p>见 3.3使用POST命令更新文档</p>\n<h3 id=\"4.4kibana简单查询\">4.4kibana简单查询<a title=\"#4.4kibana简单查询\" href=\"#4.4kibana简单查询\"></a></h3>\n<p><strong>在索引中根据关键字搜索文档</strong></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 搜索类型为type1的索引test1中，name字段值为zxf的文档</span><br><span class=\"line\">GET test1/type1/_search?q=name<span class=\"punctuation\">:</span>zxf</span><br><span class=\"line\"></span><br><span class=\"line\"># 搜索类型为type1的索引test1中，year字段值为<span class=\"number\">2022</span>的文档</span><br><span class=\"line\">GET test1/type1/_search?q=year<span class=\"punctuation\">:</span><span class=\"number\">2022</span></span><br></pre></td></tr></table></figure>\n<p><em><strong>这里存在一个问题， 如果没有给es安装分析器插件的话，就不能实现部分匹配，比如说通过name字段搜索，必须在命令中给出完整name才能匹配到。</strong></em></p>\n<h3 id=\"4.5kibana复杂查询\">4.5kibana复杂查询<a title=\"#4.5kibana复杂查询\" href=\"#4.5kibana复杂查询\"></a></h3>\n<h4 id=\"(1)-模糊查询\"><strong>(1) 模糊查询</strong><a title=\"#(1)-模糊查询\" href=\"#(1)-模糊查询\"></a></h4>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">match是模糊查询：输入“敬业福”，相当于SQL语句的 WHERE name LIKE &#x27;%敬业福%&#x27; OR LIKE &#x27;%敬业%&#x27; OR LIKE &#x27;敬&#x27; OR LIKE &#x27;业&#x27;（和SQL不同的是，es的模糊查询会分词）</span><br><span class=\"line\"></span><br><span class=\"line\">term是精确查询：输入“我想要敬业福”，相当于SQL语句的 WHERE name = &#x27;我想要敬业福&#x27;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1/type1/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;match&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;福&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"(2)-过滤不想看的字段\"><strong>(2) 过滤不想看的字段</strong><a title=\"#(2)-过滤不想看的字段\" href=\"#(2)-过滤不想看的字段\"></a></h4>\n<p>如果只想看查询结果的name字段和year字段，不想看其他month、date字段，可以使用<strong>过滤器</strong>。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1/type1/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;match&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;福&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;_source&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span><span class=\"string\">&quot;name&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;year&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"(3)-排序\"><strong>(3) 排序</strong><a title=\"#(3)-排序\" href=\"#(3)-排序\"></a></h4>\n<p>实现先按照月份再按照日期的倒序排序：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1/type1/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;match&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;福&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;sort&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;month&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;order&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;desc&quot;</span>  # 升序是<span class=\"string\">&quot;asc&quot;</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;date&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;order&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;desc&quot;</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"(4)-分页查询\"><strong>(4) 分页查询</strong><a title=\"#(4)-分页查询\" href=\"#(4)-分页查询\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1/type1/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;match&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;福&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;_source&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span><span class=\"string\">&quot;name&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;month&quot;</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;sort&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;month&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;order&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;desc&quot;</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;from&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">0</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p><strong>from：从查询结果的第几个开始显示</strong></p>\n<p><strong>size：一个页面显示几个</strong></p>\n<p><strong>注意，返回的查询结果下标从0开始。</strong></p>\n<h4 id=\"(5)-布尔值bool查询\"><strong>(5) 布尔值bool查询</strong><a title=\"#(5)-布尔值bool查询\" href=\"#(5)-布尔值bool查询\"></a></h4>\n<p>布尔查询是一个或多个查询子句的组合，每一个子句就是一个子查询。子查询的组合方式有：<br>\n<strong>must:必须匹配每个子查询，类似于“与”\t\t\t\t\t\t\tAND</strong><br>\n<strong>should：选择性匹配子查询，类似于“或”\t\t\t\t\t\tOR</strong><br>\n<strong>must_not：必须不匹配，不参与算分，类似于“非”\t\t\tNOT</strong><br>\n<strong>filter：必须匹配，参与算分</strong></p>\n<p>必须匹配：must/filter<br>\n必须不匹配：must_not<br>\n选择性匹配：should</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /index_name/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;bool&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;must&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t\t<span class=\"punctuation\">&#123;</span><span class=\"attr\">&quot;match&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span><span class=\"attr\">&quot;属性标识&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;属性值&quot;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t<span class=\"punctuation\">&#123;</span><span class=\"attr\">&quot;match&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span><span class=\"attr\">&quot;属性标识1&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;属性值&quot;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t\t\t<span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;should&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t<span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;must_not&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t<span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;filter&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t<span class=\"punctuation\">]</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>例如：查询名字里面带 “福” 的，并且month小于等于4，大于等于3的文档</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1/type1/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;bool&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;must&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">        <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">          <span class=\"attr\">&quot;match&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">            <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;福&quot;</span></span><br><span class=\"line\">          <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">        <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">      <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;filter&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">        <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">          <span class=\"attr\">&quot;range&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">            <span class=\"attr\">&quot;month&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">              <span class=\"attr\">&quot;gte&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">3</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">              <span class=\"attr\">&quot;lte&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">4</span></span><br><span class=\"line\">            <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">          <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">        <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">      <span class=\"punctuation\">]</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"(6)-模糊查询的多条件查询\">(6) 模糊查询的多条件查询<a title=\"#(6)-模糊查询的多条件查询\" href=\"#(6)-模糊查询的多条件查询\"></a></h4>\n<p>多个条件直接用“空格”隔开</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1/type1/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;match&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;福 敬业 wanna&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"(7)-精确查询\">(7) 精确查询<a title=\"#(7)-精确查询\" href=\"#(7)-精确查询\"></a></h4>\n<p>如果此时查询wanna，查询结果为0</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1/type1/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;term&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;wanna sleep&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"(8)精确查询的多条件查询\">(8)精确查询的多条件查询<a title=\"#(8)精确查询的多条件查询\" href=\"#(8)精确查询的多条件查询\"></a></h4>\n<p>模糊查询的多条件查询直接用“空格”隔开就行了，但是精确查询不能直接用空格隔开。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET test1/type1/_search</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"> &quot;query&quot;:&#123;</span><br><span class=\"line\">   &quot;bool&quot;: &#123;</span><br><span class=\"line\">     &quot;must&quot;: [</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">         &quot;term&quot;: &#123;</span><br><span class=\"line\">           &quot;month&quot;: 4</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">       &#125;,</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">         &quot;term&quot;: &#123;</span><br><span class=\"line\">           &quot;date&quot;: 1</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">     ]</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"(9)-多字段模糊查询-match_multip\">(9) 多字段模糊查询 match_multip<a title=\"#(9)-多字段模糊查询-match_multip\" href=\"#(9)-多字段模糊查询-match_multip\"></a></h4>\n<p>根据多个字段查询这个关键字，只要其中一个字段匹配到了这个关键字就可以查出来</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /index_name/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;multi_match&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;查询条件&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;fields&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">[</span><span class=\"string\">&quot;属性标识1&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;属性标识2&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>只要查询条件满足属性标识1或者属性标识2中的任意一个，就可以查询出来</p>\n<h4 id=\"(10)-短语模糊查询match_prase\">(10) 短语模糊查询match_prase<a title=\"#(10)-短语模糊查询match_prase\" href=\"#(10)-短语模糊查询match_prase\"></a></h4>\n<p><strong>如果是keyword类型，等同于精确查询，必须要完全匹配才行</strong><br>\n<strong>如果是text类型，会对搜索条件进行分词，而且要保持相对位置一直才能被搜索到。而且分出来的词要完全匹配</strong><br>\n比如，有一条数据：name : i like study es;<br>\n搜索 like study 可以搜到该结果<br>\n但是搜索 like es 搜不到，因为相对位置不一样了，条件中like 和 es挨着，但是数据中like 和 es 中间存在study；<br>\n搜索like es 和 like ？？？？++es 搜索结果一样</p>\n<h4 id=\"(11)-单字整体模糊匹配-wildcard-查询，类似sql的like查询\">(11) 单字整体模糊匹配 wildcard 查询，类似sql的like查询<a title=\"#(11)-单字整体模糊匹配-wildcard-查询，类似sql的like查询\" href=\"#(11)-单字整体模糊匹配-wildcard-查询，类似sql的like查询\"></a></h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /index_name/_search</span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;query&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;wildcard&quot;</span><span class=\"punctuation\">:</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;属性标识&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;*性值&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>","prev":{"title":"十进制数转任意进制","link":"2025/08/27/十进制数转任意进制"},"next":{"title":"Dubbo+Nacos实现远程调用","link":"2025/08/15/Dubbo+Nacos实现远程调用"},"plink":"http://example.com/2025/08/26/Kibana基本操作语法/","toc":[{"id":"kibana基本操作语法","title":"Kibana基本操作语法","index":"1","children":[{"id":"1.kibana相关了解","title":"1.Kibana相关了解","index":"1.1"},{"id":"2.restful风格","title":"2.Restful风格","index":"1.2"},{"id":"3.关于索引的基本操作","title":"3.关于索引的基本操作","index":"1.3","children":[{"id":"3.1创建","title":"3.1创建","index":"1.3.1"},{"id":"3.2get获取信息","title":"3.2GET获取信息","index":"1.3.2"},{"id":"3.3使用post命令更新文档","title":"3.3使用POST命令更新文档","index":"1.3.3"},{"id":"3.4删除","title":"3.4删除","index":"1.3.4"}]},{"id":"4.关于文档的基本操作","title":"4.关于文档的基本操作","index":"1.4","children":[{"id":"4.1put/post创建文档","title":"4.1PUT&#x2F;POST创建文档","index":"1.4.1"},{"id":"4.2get获取文档","title":"4.2GET获取文档","index":"1.4.2"},{"id":"4.3post更新文档","title":"4.3POST更新文档","index":"1.4.3"},{"id":"4.4kibana简单查询","title":"4.4kibana简单查询","index":"1.4.4"},{"id":"4.5kibana复杂查询","title":"4.5kibana复杂查询","index":"1.4.5"}]}]}],"reading_time":"2231 words in 15 min"}